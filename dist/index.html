<!DOCTYPE html>
<html>
	<head>
		<title>webOS JSSpeccy</title>
		<link rel="stylesheet" href="jsspeccy.css">
		<script src="jsspeccy-core.min.js"></script>
<!--		<script src="jsspeccy.js"></script> -->
		<script src="jquery-1.7.2.min.js"></script>
		<script src="ui.js"></script>
	
		<script src="webOSTVjs-1.2.0/webOSTV.js" charset="utf-8"></script>
<!-- 		<script src="webOSTVjs-1.2.0/webOSTV-dev.js" charset="utf-8"></script>  -->
		<script type="text/javascript">
		   //sample code for calling LS2 API
	       var lunaReq= webOS.service.request("luna://com.palm.systemservice",
	        {
	            method:"clock/getTime",
	            parameters:{},
	            onSuccess: function (args) {
					console.log("UTC:", args.utc);
	            },
	            onFailure: function (args) {
	            }
	        });
		</script>
	
		<style>
			body {
				margin: 0;
				padding: 0;
				font-family: Helvetica, Arial, sans-serif;
				background-color: #222;
				color: #ddd;
			}
			h1, h2 {
				padding: 0; margin: 0;
			}
			a:link {
				color: #77f;
			}
			a:visited {
				color: #97f;
			}
			a:hover, a:active {
				color: #99f;
			}
		</style>
		<script>
			$(function() {
				var jsspeccy = JSSpeccy('jsspeccy-viewport', {
					'autostart': true,
					'measurePerformance': true
				});
				JSSpeccy.UI({
					container: 'jsspeccy',
					controller: jsspeccy
				});
				$('#example-games').change(function() {
					var filename = $(this).val();
					if (filename) {
						jsspeccy.loadFromUrl(
							'./games/' + filename,
							{'autoload': true}
						);
					}
				});
				setInterval(function() {
					$('#fps').text(jsspeccy.getFps().toFixed(1));
                    $('#cfps').text(jsspeccy.getCfps().toFixed(1));	                    
				}, 1000);
			});
		</script>
	</head>
	<body>
		<div id="jsspeccy">
			<div id="jsspeccy-viewport"></div>
            <div id="jsspeccy-fps"><div>Video FPS: <span id="fps">0.0</span></div><div>CPU FPS: <span id="cfps">0.0</span></div></div>
			<div class= "toolbar-div">
				<ul class="toolbar">
					<li><button class="stop-start" title="Stop / start">stop / start</button></li>
					<li><button class="reset" title="Reset the Spectrum">reset</button></li>
					<li><button class="audio" title="Audio on/off">audio on/off</button></li>
					<li><button class="open" title="Open file">open file</button></li>
					<li><button class="about" title="About JSSpeccy">about</button></li>
					<li>
						<div>
							<select class="select-model"></select>
						</div>
						<div>
							<label><input type="checkbox" class="autoload-tapes" checked="checked"> Autoload tapes</label>
						</div>
					</li>
				</ul>
				<div class="panel open-file">
					<button class="close">close</button>
	
	<!-- 			<h2>Load from disk: <span class="note">.tap, .tzx, .sna, .z80 files supported</span></h2><input type="file">  -->	
	
					<h2>Load from web:</h2><input type="url"><button class="open-url">Open URL</button>
	<!-- 
					<h2>Search World Of Spectrum:</h2>
					<form class="search-wos">
						<input type="search">
						<input type="submit" value="Search title">
					</form>
					<select style="width: 250px" size="8" class="wos-matches"></select>
					<select style="width: 250px" size="8" class="wos-downloads"></select>
					<button class="open-from-wos">Open file</button>
	 -->
				</div>
				<div class="panel about">
					<button class="close">close</button>
	
					<h1>webOS JSSpeccy</h1>
					<h2>a webOS ZX Spectrum emulator in Javascript</h2>
					<p>By <a href="http://matt.west.co.tt/">Matt Westcott</a></p>
					<p>Sound routines by Darren Coles</p>	
					<p>Ported to LG webOS by Mist Poryvaev </p>	
					<p><a href="https://jsspeccy.zxdemo.org/" target="_blank">JSSpeccy homepage</a> (including downloads and source code)</p>
					<p>Based on <a href="http://fuse-emulator.sourceforge.net/" target="_blank">Fuse</a> by Philip Kendall et al. Icons from <a href="http://www.icon-king.com/projects/nuvola/" target="_blank">Nuvola</a> by David Vignoni.</p>
					<div class="licence">
						<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p><p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.</p><p>You should have received a copy of the GNU General Public License along with this program.  If not, see &lt;<a href="http://www.gnu.org/licenses/" target="_blank">http://www.gnu.org/licenses/</a>&gt;.</p>
					</div>
				</div>
				<div class="commentary">
					<h1>webOS JSSpeccy <span class="version">v. 1.0</span></h1>
					<h2>a webOS ZX Spectrum emulator in Javascript</h2>
                    <select id="example-games" style="width: 100%">
                        <option value="">Select sample game to quick test...</option>
                        <option value="AIRWOLF2.TAP">Air Wolf 2</option>
                        <option value="BLUEMAX.TAP">Blue Max</option>
                        <option value="CAULDRON.TAP">Cauldron</option>
                        <option value="CYCLONE.TAP">Cyclone</option>
                        <option value="DANDARE3.TAP">Dan Dare 3</option>
                        <option value="ELITE.TAP">Elite</option>
                        <option value="EXOLON.TAP">Exolon</option>
                        <option value="FALCON.TAP">Falcon Patrol</option>
                        <option value="FIST1.TAP">Fist</option>
                        <option value="FRIGHTMARE.TAP">Frightmare</option>
                        <option value="KRAKOUT2.TAP">Krakout 2</option>
                        <option value="LODERUN.TAP">Lode Runner</option>
                        <option value="MORTALKO.TAP">Mortal Kombat</option>
                        <option value="NETHEREA.TAP">Nether Earth</option>
                        <option value="PLATOON.TAP">Platoon</option>
                        <option value="POPERSIA.TAP">Prince of Persia</option>
                        <option value="RTYPE.TAP">R-Type</option>
                        <option value="TTURBOV8.TAP">Twin Turbo V8</option>
                        <option value="VALLEY.TAP">Valley of Rains</option>
                    </select>
                </div>				
			</div>				
		</div>
	</body>
</html>

